"use strict";(self["webpackChunkstar_client"]=self["webpackChunkstar_client"]||[]).push([[65],{7103:function(t,e,o){o.d(e,{A:function(){return _}});var n=o(6768),a=o(2807),i=o(8856),l=o(1950),r=o(2067),s=o(2876),c=o(144),u=o(4587),d=o(9094),p=o(1247),v=o(7861),m=o(4600);const f=(0,u.j)({id:String,text:String,...(0,d.cJ)((0,i.D)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),k=(0,p.RW)()({name:"VTooltip",props:f(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:o}=e;const a=(0,r.q)(t,"modelValue"),{scopeId:u}=(0,s.b)(),d=(0,v.v6)(),p=(0,n.EW)((()=>t.id||`v-tooltip-${d}`)),f=(0,c.KR)(),k=(0,n.EW)((()=>t.location.split(" ").length>1?t.location:t.location+" center")),g=(0,n.EW)((()=>"auto"===t.origin||"overlap"===t.origin||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center")),h=(0,n.EW)((()=>t.transition?t.transition:a.value?"scale-transition":"fade-transition")),y=(0,n.EW)((()=>(0,n.v6)({"aria-describedby":p.value},t.activatorProps)));return(0,m.C)((()=>{const e=i.L.filterProps(t);return(0,n.bF)(i.L,(0,n.v6)({ref:f,class:["v-tooltip",t.class],style:t.style,id:p.value},e,{modelValue:a.value,"onUpdate:modelValue":t=>a.value=t,transition:h.value,absolute:!0,location:k.value,origin:g.value,persistent:!0,role:"tooltip",activatorProps:y.value,_disableGlobalStack:!0},u),{activator:o.activator,default:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return o.default?.(...n)??t.text}})})),(0,l.O)({},f)}});function g(t,e,o,i,l,r){return(0,n.uX)(),(0,n.Wv)(k,{text:o.tooltipText,location:"top"},{activator:(0,n.k6)((({props:i})=>[(0,n.bF)(a.D,(0,n.v6)({class:"mx-1",color:o.color,icon:o.icon,variant:"tonal",size:o.size},i,{onClick:e[0]||(e[0]=e=>t.$emit("action"))}),null,16,["color","icon","size"])])),_:1},8,["text"])}var h={name:"IconButton",props:{tooltipText:{type:String,required:!0},icon:{type:String,required:!0},size:{type:String,required:!1,default:"x-small"},color:{type:String,required:!0}}},y=o(1241);const b=(0,y.A)(h,[["render",g]]);var _=b},6866:function(t,e,o){o.d(e,{A:function(){return g}});var n=o(6768),a=o(4232),i=o(2807),l=o(4189),r=o(697),s=o(3745),c=o(1772);const u={class:"pa-4 text-center"},d={class:"text-h6 font-weight-black"},p={class:"text-medium-emphasis"};function v(t,e,o,v,m,f){return(0,n.uX)(),(0,n.CE)("div",u,[(0,n.bF)(c.p,{"model-value":o.view,"max-width":"600",persistent:""},{default:(0,n.k6)((()=>[(0,n.bF)(l.J,{"prepend-icon":o.header.icon,title:o.header.title},{default:(0,n.k6)((()=>[(0,n.bF)(r.O,null,{default:(0,n.k6)((()=>[(0,n.Lk)("p",d,(0,a.v_)(o.body.name),1),(0,n.Lk)("div",p,(0,a.v_)(o.body.text),1)])),_:1}),(0,n.bF)(s.S,null,{default:(0,n.k6)((()=>[o.body.url?((0,n.uX)(),(0,n.Wv)(i.D,{key:0,color:"orange",text:"Preview",href:o.body.url,target:"_blank"},null,8,["href"])):(0,n.Q3)("",!0),(0,n.bF)(i.D,{onClick:e[0]||(e[0]=t=>f.close(!o.view)),text:"Ok"})])),_:1})])),_:1},8,["prepend-icon","title"])])),_:1},8,["model-value"])])}var m={name:"PreviewDialog",props:{view:{type:Boolean,required:!0},header:{type:Object,required:!0},body:{type:Object,required:!0}},methods:{close(t){this.$emit("close",t)}}},f=o(1241);const k=(0,f.A)(m,[["render",v]]);var g=k},8489:function(t,e,o){o.r(e),o.d(e,{default:function(){return y}});var n=o(6768),a=o(4232),i=o(3813),l=o(6756),r=o(5526),s=o(9669),c=o(3260);const u={class:"d-flex"};function d(t,e,o,d,p,v){const m=(0,n.g2)("IconButton"),f=(0,n.g2)("PreviewDialog");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(i.I,{fluid:""},{default:(0,n.k6)((()=>[(0,n.bF)(l.L,null,{default:(0,n.k6)((()=>[(0,n.bF)(r.B,null,{default:(0,n.k6)((()=>[(0,n.bF)(c.Z,{height:"100vh","fixed-header":""},{default:(0,n.k6)((()=>[e[2]||(e[2]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:"text-left text-uppercase"},"Task Name"),(0,n.Lk)("th",{class:"text-left text-uppercase"},"Grade"),(0,n.Lk)("th",{class:"text-left text-uppercase"},"Assigned"),(0,n.Lk)("th",{class:"text-left text-uppercase"},"Ends"),(0,n.Lk)("th",{class:"text-left text-uppercase"},"Status"),(0,n.Lk)("th",{class:"text-left text-uppercase"},"Actions")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.userTasks,((e,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:o},[(0,n.Lk)("td",null,(0,a.v_)(e.task_name),1),(0,n.Lk)("td",null,(0,a.v_)(e.task_grade),1),(0,n.Lk)("td",null,(0,a.v_)(t.$parseDateTime(e.task_assigned_at)),1),(0,n.Lk)("td",null,(0,a.v_)(t.$parseDateTime(e.task_ends_at)),1),(0,n.Lk)("td",null,[e.task_submitted_at?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(s.w,{key:0,color:"warning",icon:"mdi-clock"})),e.task_submitted_at?((0,n.uX)(),(0,n.Wv)(s.w,{key:1,color:"success",icon:"mdi-checkbox-marked-circle"})):(0,n.Q3)("",!0)]),(0,n.Lk)("td",null,[(0,n.Lk)("div",u,[e.task_submitted_at?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(m,{key:0,tooltipText:"Mark as completed",color:"green",icon:"mdi-check",onAction:t=>v.complete(e)},null,8,["onAction"])),(0,n.bF)(m,{tooltipText:"View Comment",color:"blue-grey",icon:"mdi-comment-eye-outline",onAction:t=>v.select(e,"view_comment")},null,8,["onAction"]),(0,n.bF)(m,{tooltipText:"View Task",color:"blue-grey",icon:"mdi-eye-outline",onAction:t=>v.select(e,"view_task")},null,8,["onAction"])])])])))),128))])])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(f,{view:p.dialog.view_task,header:{icon:"mdi-information",title:p.task.task_name},body:{name:p.task.task_description,text:p.task.task_raw_text?p.task.task_raw_text:"No additional note :)"},onClose:e[0]||(e[0]=t=>p.dialog.view_task=!1)},null,8,["view","header","body"]),(0,n.bF)(f,{view:p.dialog.view_comment,header:{icon:"mdi-comment-text",title:"Comment"},body:{name:p.task.task_name,text:p.task.task_comment?p.task.task_comment:"No comment :)"},onClose:e[1]||(e[1]=t=>p.dialog.view_comment=!1)},null,8,["view","body"])],64)}var p=o(5234),v=o(7103),m=o(6866),f=o(376),k={name:"Task",data(){return{dialog:{view_task:!1,view_comment:!1},task:{},tasks:[]}},components:{IconButton:v.A,PreviewDialog:m.A},methods:{...(0,p.i0)(f.sk,["getUserTasks"]),...(0,p.i0)(f.sk,["completeTask"]),async select(t,e){"view_task"===e&&(this.task=t,this.dialog.view_task=!0),"view_comment"===e&&(this.task=t,this.dialog.view_comment=!0)},complete(t){const e=this.completeTask(t.task_id);console.log(e),this.$router.go(this.$router.currentRoute)}},async created(){await this.getUserTasks(this.user.id)},computed:{...(0,p.aH)(f.kH,["user"]),...(0,p.aH)(f.sk,["userTasks"])}},g=o(1241);const h=(0,g.A)(k,[["render",d],["__scopeId","data-v-0453a97a"]]);var y=h},1772:function(t,e,o){o.d(e,{p:function(){return g}});var n=o(6768),a=o(6856),i=o(7852),l=o(8856),r=o(1950),s=o(2067),c=o(2876),u=o(144),d=o(4587),p=o(1247),v=o(9094),m=o(6993),f=o(4600);const k=(0,d.j)({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...(0,l.D)({origin:"center center",scrollStrategy:"block",transition:{component:a._},zIndex:2400})},"VDialog"),g=(0,p.RW)()({name:"VDialog",props:k(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:o,slots:a}=e;const d=(0,s.q)(t,"modelValue"),{scopeId:p}=(0,c.b)(),k=(0,u.KR)();function g(t){const e=t.relatedTarget,o=t.target;if(e!==o&&k.value?.contentEl&&k.value?.globalTop&&![document,k.value.contentEl].includes(o)&&!k.value.contentEl.contains(o)){const t=(0,v.OW)(k.value.contentEl);if(!t.length)return;const o=t[0],n=t[t.length-1];e===o?n.focus():o.focus()}}function h(){o("afterEnter"),k.value?.contentEl&&!k.value.contentEl.contains(document.activeElement)&&k.value.contentEl.focus({preventScroll:!0})}function y(){o("afterLeave")}return m.ZK&&(0,n.wB)((()=>d.value&&t.retainFocus),(t=>{t?document.addEventListener("focusin",g):document.removeEventListener("focusin",g)}),{immediate:!0}),(0,n.wB)(d,(async t=>{t||(await(0,n.dY)(),k.value.activatorEl?.focus({preventScroll:!0}))})),(0,f.C)((()=>{const e=l.L.filterProps(t),o=(0,n.v6)({"aria-haspopup":"dialog"},t.activatorProps),r=(0,n.v6)({tabindex:-1},t.contentProps);return(0,n.bF)(l.L,(0,n.v6)({ref:k,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},e,{modelValue:d.value,"onUpdate:modelValue":t=>d.value=t,"aria-modal":"true",activatorProps:o,contentProps:r,role:"dialog",onAfterEnter:h,onAfterLeave:y},p),{activator:a.activator,default:function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(0,n.bF)(i.K,{root:"VDialog"},{default:()=>[a.default?.(...e)]})}})})),(0,r.O)({},k)}})},6856:function(t,e,o){o.d(e,{_:function(){return d}});var n=o(6768),a=o(5130),i=o(4587),l=o(1247),r=o(2419),s=o(1884),c=o(9886);const u=(0,i.j)({target:[Object,Array]},"v-dialog-transition"),d=(0,l.RW)()({name:"VDialogTransition",props:u(),setup(t,e){let{slots:o}=e;const i={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(e,o){await new Promise((t=>requestAnimationFrame(t))),await new Promise((t=>requestAnimationFrame(t))),e.style.visibility="";const{x:n,y:a,sx:i,sy:l,speed:c}=v(t.target,e),u=(0,r.i)(e,[{transform:`translate(${n}px, ${a}px) scale(${i}, ${l})`,opacity:0},{}],{duration:225*c,easing:s.S8});p(e)?.forEach((t=>{(0,r.i)(t,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*c,easing:s.B2})})),u.finished.then((()=>o()))},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(e,o){await new Promise((t=>requestAnimationFrame(t)));const{x:n,y:a,sx:i,sy:l,speed:c}=v(t.target,e),u=(0,r.i)(e,[{},{transform:`translate(${n}px, ${a}px) scale(${i}, ${l})`,opacity:0}],{duration:125*c,easing:s.z3});u.finished.then((()=>o())),p(e)?.forEach((t=>{(0,r.i)(t,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*c,easing:s.B2})}))},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>t.target?(0,n.bF)(a.eB,(0,n.v6)({name:"dialog-transition"},i,{css:!1}),o):(0,n.bF)(a.eB,{name:"dialog-transition"},o)}});function p(t){const e=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return e&&[...e]}function v(t,e){const o=(0,c.Li)(t),n=(0,r.P)(e),[a,i]=getComputedStyle(e).transformOrigin.split(" ").map((t=>parseFloat(t))),[l,s]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=o.left+o.width/2;"left"===l||"left"===s?u-=o.width/2:"right"!==l&&"right"!==s||(u+=o.width/2);let d=o.top+o.height/2;"top"===l||"top"===s?d-=o.height/2:"bottom"!==l&&"bottom"!==s||(d+=o.height/2);const p=o.width/n.width,v=o.height/n.height,m=Math.max(1,p,v),f=p/m||0,k=v/m||0,g=n.width*n.height/(window.innerWidth*window.innerHeight),h=g>.12?Math.min(1.5,10*(g-.12)+1):1;return{x:u-(a+n.left),y:d-(i+n.top),sx:f,sy:k,speed:h}}}}]);
//# sourceMappingURL=65.6cc5128c.js.map