"use strict";(self["webpackChunkstar_client"]=self["webpackChunkstar_client"]||[]).push([[851],{6866:function(e,t,l){l.d(t,{A:function(){return _}});var o=l(6768),a=l(4232),i=l(2807),r=l(4189),u=l(697),n=l(3745),s=l(1772);const d={class:"pa-4 text-center"},c={class:"text-h6 font-weight-black"},p={class:"text-medium-emphasis"};function m(e,t,l,m,v,f){return(0,o.uX)(),(0,o.CE)("div",d,[(0,o.bF)(s.p,{"model-value":l.view,"max-width":"600",persistent:""},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,{"prepend-icon":l.header.icon,title:l.header.title},{default:(0,o.k6)((()=>[(0,o.bF)(u.O,null,{default:(0,o.k6)((()=>[(0,o.Lk)("p",c,(0,a.v_)(l.body.name),1),(0,o.Lk)("div",p,(0,a.v_)(l.body.text),1)])),_:1}),(0,o.bF)(n.S,null,{default:(0,o.k6)((()=>[l.body.url?((0,o.uX)(),(0,o.Wv)(i.D,{key:0,color:"orange",text:"Preview",href:l.body.url,target:"_blank"},null,8,["href"])):(0,o.Q3)("",!0),(0,o.bF)(i.D,{onClick:t[0]||(t[0]=e=>f.close(!l.view)),text:"Ok"})])),_:1})])),_:1},8,["prepend-icon","title"])])),_:1},8,["model-value"])])}var v={name:"PreviewDialog",props:{view:{type:Boolean,required:!0},header:{type:Object,required:!0},body:{type:Object,required:!0}},methods:{close(e){this.$emit("close",e)}}},f=l(1241);const b=(0,f.A)(v,[["render",m]]);var _=b},8851:function(e,t,l){l.r(t),l.d(t,{default:function(){return I}});var o=l(6768),a=l(4232),i=l(2807),r=l(4189),u=l(697),n=l(3745),s=l(8995),d=l(1772),c=l(7511),p=l(8351),m=l(3813),v=l(6756),f=l(5526),b=l(1720),_=l(1286),h=l(3260),g=l(3948),k=l(3740);const F={class:"d-flex justify-end align-center"},x={class:"mx-4"},j={class:"d-flex"},y={class:"pa-4 text-center"},V={class:"pa-4 text-center"},w={class:"pa-4 text-center"};function P(e,t,l,P,C,S){const B=(0,o.g2)("IconButton"),A=(0,o.g2)("DatePicker"),L=(0,o.g2)("PreviewDialog");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(m.I,{fluid:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(f.B,{cols:"4"}),(0,o.bF)(f.B,{cols:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(g.W,{"append-inner-icon":"mdi-magnify",density:"compact",label:"Search",variant:"underlined","hide-details":"","single-line":"",modelValue:C.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>C.searchQuery=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(f.B,{cols:"4"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",F,[(0,o.Lk)("h4",x,(0,a.v_)(S.projectCount)+" Project(s)",1),S.hasProject()?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(B,{key:0,tooltipText:"Add Topic",color:"blue",size:"small",icon:"mdi-file-plus-outline",onAction:t[1]||(t[1]=e=>S.select({},"add_topic"))}))])])),_:1})])),_:1}),(0,o.bF)(v.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(f.B,{cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(h.Z,{height:"100vh","fixed-header":""},{default:(0,o.k6)((()=>[t[26]||(t[26]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-left text-uppercase"},"Title"),(0,o.Lk)("th",{class:"text-left text-uppercase"},"Supervisor"),(0,o.Lk)("th",{class:"text-left text-uppercase"},"Availability"),(0,o.Lk)("th",{class:"text-left text-uppercase"},"Team"),(0,o.Lk)("th",{class:"text-left text-uppercase"},"Actions")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(S.resultQuery,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,a.v_)(e.topic_name),1),(0,o.Lk)("td",null,(0,a.v_)(e.supervisor_title+" "+e.supervisor_full_name),1),(0,o.Lk)("td",null,[(0,o.bF)(s.x,{class:"ma-2 text-capitalize",size:"x-small",color:"available"===S.projectStatus(e)?"green":"red","prepend-icon":"mdi-circle"},{default:(0,o.k6)((()=>[(0,o.eW)((0,a.v_)(S.projectStatus(e)),1)])),_:2},1032,["color"])]),(0,o.Lk)("td",null,(0,a.v_)(e.team_name),1),(0,o.Lk)("td",null,[(0,o.Lk)("div",j,["available"===S.projectStatus(e)&&S.ownProject(e)?((0,o.uX)(),(0,o.Wv)(B,{key:0,tooltipText:"Assign Topic",color:"orange",icon:"mdi-account-multiple-plus-outline",onAction:t=>S.select(e,"assign_project")},null,8,["onAction"])):(0,o.Q3)("",!0),S.ownProject(e)?((0,o.uX)(),(0,o.Wv)(B,{key:1,tooltipText:"Edit Project",color:"green",icon:"mdi-file-document-edit-outline",onAction:t=>S.select(e,"edit_project")},null,8,["onAction"])):(0,o.Q3)("",!0),S.ownProject(e)?((0,o.uX)(),(0,o.Wv)(B,{key:2,tooltipText:"Edit Topic",color:"green",icon:"mdi-file-edit-outline",onAction:t=>S.select(e,"edit_topic")},null,8,["onAction"])):(0,o.Q3)("",!0),(0,o.bF)(B,{tooltipText:"View Topic",color:"blue-grey",icon:"mdi-file-eye-outline",onAction:t=>S.select(e,"view_topic")},null,8,["onAction"])])])])))),128))])])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Lk)("div",y,[(0,o.bF)(d.p,{modelValue:C.dialog.topic.value,"onUpdate:modelValue":t[8]||(t[8]=e=>C.dialog.topic.value=e),"max-width":"600"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,{"prepend-icon":"mdi-file-edit",title:C.dialog.topic.title},{default:(0,o.k6)((()=>[(0,o.bF)(u.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(v.L,{dense:""},{default:(0,o.k6)((()=>[(0,o.bF)(f.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(g.W,{label:"Name*",modelValue:C.topic.name,"onUpdate:modelValue":t[2]||(t[2]=e=>C.topic.name=e),rules:e.ruleMinMax("Name",10,100),required:""},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(k.J,{label:"Description*",modelValue:C.topic.description,"onUpdate:modelValue":t[3]||(t[3]=e=>C.topic.description=e),rules:e.ruleMinMax("Description",10,400),required:""},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(p.f,{accept:".doc, .docx, .ppt, .pptx, .txt, .pdf",label:"File*",placeholder:"Pick a file (.doc, .docx, .ppt, .pptx,.txt or .pdf)",modelValue:C.topic.file,"onUpdate:modelValue":t[4]||(t[4]=e=>C.topic.file=e),loading:C.progress,rules:e.ruleRequired("File"),required:""},null,8,["modelValue","loading","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(k.J,{label:"(Optional) Text",modelValue:C.topic.raw_text,"onUpdate:modelValue":t[5]||(t[5]=e=>C.topic.raw_text=e)},null,8,["modelValue"])])),_:1})])),_:1}),t[27]||(t[27]=(0,o.Lk)("small",{class:"text-caption text-medium-emphasis"},"*indicates required field",-1))])),_:1}),(0,o.bF)(c.G),(0,o.bF)(n.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(b.h),(0,o.bF)(i.D,{text:"Close",variant:"plain",onClick:t[6]||(t[6]=e=>C.dialog.topic.value=!1)}),(0,o.bF)(i.D,{color:"primary",text:"Save",variant:"tonal",onClick:t[7]||(t[7]=e=>S.upsert(C.topic))})])),_:1})])),_:1},8,["title"])])),_:1},8,["modelValue"])]),(0,o.Lk)("div",V,[(0,o.bF)(d.p,{modelValue:C.dialog.assign_project,"onUpdate:modelValue":t[16]||(t[16]=e=>C.dialog.assign_project=e),"max-width":"600"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,{"prepend-icon":"mdi-account-multiple-plus",title:"Assign Project"},{default:(0,o.k6)((()=>[(0,o.bF)(u.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(v.L,{dense:""},{default:(0,o.k6)((()=>[(0,o.bF)(f.B,{cols:"12",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(g.W,{label:"Course Code*",modelValue:C.selectedProject.course_code,"onUpdate:modelValue":t[9]||(t[9]=e=>C.selectedProject.course_code=e),rules:e.ruleMinMax("Course code",6,8),required:""},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(_.d4,{items:S.unassignedTeams,"item-title":"name","item-value":"id",label:"Team*",modelValue:C.selectedProject.team_id,"onUpdate:modelValue":t[10]||(t[10]=e=>C.selectedProject.team_id=e),rules:e.ruleRequired("Team"),required:""},null,8,["items","modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(_.d4,{label:"Semester*",items:["Spring","Fall"],modelValue:C.selectedProject.semester,"onUpdate:modelValue":t[11]||(t[11]=e=>C.selectedProject.semester=e),rules:e.ruleRequired("Semester"),required:""},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(_.d4,{label:"Year*",items:S.years,modelValue:C.selectedProject.year,"onUpdate:modelValue":t[12]||(t[12]=e=>C.selectedProject.year=e),rules:e.ruleRequired("Year"),required:""},null,8,["items","modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[t[28]||(t[28]=(0,o.Lk)("p",{class:"text-subtitle-1 text-grey"},"Presentation Date*",-1)),(0,o.bF)(A,{modelValue:C.selectedProject.presentation_at,"onUpdate:modelValue":t[13]||(t[13]=e=>C.selectedProject.presentation_at=e),mode:"dateTime",is24hr:"","hide-time-header":"","is-required":"",expanded:""},null,8,["modelValue"])])),_:1})])),_:1}),t[29]||(t[29]=(0,o.Lk)("small",{class:"text-caption text-medium-emphasis"},"*indicates required field",-1))])),_:1}),(0,o.bF)(c.G),(0,o.bF)(n.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(b.h),(0,o.bF)(i.D,{text:"Close",variant:"plain",onClick:t[14]||(t[14]=e=>C.dialog.assign_project=!1)}),(0,o.bF)(i.D,{color:"primary",text:"Save",variant:"tonal",onClick:t[15]||(t[15]=e=>S.upsert(C.selectedProject))})])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,o.Lk)("div",w,[(0,o.bF)(d.p,{modelValue:C.dialog.edit_project,"onUpdate:modelValue":t[24]||(t[24]=e=>C.dialog.edit_project=e),"max-width":"600"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,{"prepend-icon":"mdi-file-document-edit",title:"Edit Project"},{default:(0,o.k6)((()=>[(0,o.bF)(u.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(v.L,{dense:""},{default:(0,o.k6)((()=>[(0,o.bF)(f.B,{cols:"12",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(g.W,{label:"Course Code*",modelValue:C.selectedProject.course_code,"onUpdate:modelValue":t[17]||(t[17]=e=>C.selectedProject.course_code=e),rules:e.ruleMinMax("Course code",6,8),required:""},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(_.d4,{items:S.unassignedTeams,"item-title":"name","item-value":"id",label:"Team*",modelValue:C.selectedProject.team_id,"onUpdate:modelValue":t[18]||(t[18]=e=>C.selectedProject.team_id=e),rules:e.ruleRequired("Team"),required:""},null,8,["items","modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(_.d4,{label:"Semester*",items:["Spring","Fall"],modelValue:C.selectedProject.semester,"onUpdate:modelValue":t[19]||(t[19]=e=>C.selectedProject.semester=e),rules:e.ruleRequired("Semester"),required:""},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(_.d4,{label:"Year*",items:S.years,modelValue:C.selectedProject.year,"onUpdate:modelValue":t[20]||(t[20]=e=>C.selectedProject.year=e),required:"",rules:e.ruleRequired("Year")},null,8,["items","modelValue","rules"])])),_:1}),(0,o.bF)(f.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[t[30]||(t[30]=(0,o.Lk)("p",{class:"text-subtitle-1 text-grey"},"Presentation Date*",-1)),(0,o.bF)(A,{modelValue:C.selectedProject.presentation_at,"onUpdate:modelValue":t[21]||(t[21]=e=>C.selectedProject.presentation_at=e),mode:"dateTime",is24hr:"","hide-time-header":"","is-required":"",expanded:""},null,8,["modelValue"])])),_:1})])),_:1}),t[31]||(t[31]=(0,o.Lk)("small",{class:"text-caption text-medium-emphasis"},"*indicates required field",-1))])),_:1}),(0,o.bF)(c.G),(0,o.bF)(n.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(b.h),(0,o.bF)(i.D,{text:"Close",variant:"plain",onClick:t[22]||(t[22]=e=>C.dialog.edit_project=!1)}),(0,o.bF)(i.D,{color:"primary",text:"Save",variant:"tonal",onClick:t[23]||(t[23]=e=>S.upsert(C.selectedProject))})])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,o.bF)(L,{view:C.dialog.view_topic,header:{icon:"mdi-information",title:C.project.topic_name},body:{name:C.project.topic_description,text:C.project.topic_raw_text?C.project.topic_raw_text:"No additional note :)",url:e.getDocument(C.project.topic_url)},onClose:t[25]||(t[25]=e=>C.dialog.view_topic=!1)},null,8,["view","header","body"])],64)}var C=l(5234),S=l(1999),B=l(7103),A=l(6866),L=l(376),R=l(3283),T=l(1175),q={name:"Project Moderation",data(){return{dialog:{topic:{value:!1,title:"Add Topic"},assign_project:!1,edit_project:!1,view_topic:!1},topic:{},project:{},selectedProject:{},progress:!1,searchQuery:null}},components:{DatePicker:S.lr,IconButton:B.A,PreviewDialog:A.A},methods:{...(0,C.i0)(L.sk,["getUsers"]),...(0,C.i0)(L.sk,["getTeams"]),...(0,C.i0)(L.sk,["getTopics"]),...(0,C.i0)(L.sk,["getProjects"]),...(0,C.i0)(L.sk,["ruleRequired"]),...(0,C.i0)(L.sk,["ruleMinMax"]),projectStatus(e){return e.team_id?"unavailable":"available"},ownProject(e){return e.supervisor_id===this.user.id},hasProject(){return!(!this.projects||!this.projects.length)&&this.projects.some((e=>!(!e.supervisor_id||e.supervisor_id!==this.user.id)))},select(e,t){"view_topic"===t&&(this.project=e,this.dialog.view_topic=!0),"add_topic"===t&&(this.dialog.topic.value=!0,this.dialog.topic.title="Add Topic",this.topic={...e,supervisor_id:this.user.id,action:t}),"edit_topic"===t&&(this.dialog.topic.value=!0,this.dialog.topic.title="Edit Topic",this.topic={...e,name:e.topic_name,description:e.topic_description,raw_text:e.topic_raw_text,action:t}),"assign_project"===t&&(this.dialog.assign_project=!0,this.selectedProject={...e,name:"",course_code:"",action:t}),"edit_project"===t&&(this.dialog.edit_project=!0,this.selectedProject={...e,name:e.project_name,course_code:e.project_course_code,year:e.project_year,semester:e.project_semester,presentation_at:e.project_presentation_at?new Date(e.project_presentation_at):new Date,action:t})},async upsert(e){if(e.file){const t=await T.A.upload.create(e.file,"documents",(e=>{this.progress=!0,console.log(Math.round(100*e.loaded/e.total))}));this.progress=!1;const{data:{path:l}}=t.data;e.url=l}if("add_topic"===e.action){const t=await T.A.topics.create(e);t&&t.data&&(console.log(t.data),this.dialog.topic.value=!1,this.$router.go(this.$router.currentRoute))}if("edit_topic"===e.action){const t=await T.A.topics.update(e.topic_id,e);t&&t.data&&(console.log(t.data),this.dialog.topic.value=!1,this.$router.go(this.$router.currentRoute))}if("assign_project"===e.action){const t=await T.A.projects.create(e);t&&t.data&&(console.log(t.data),this.dialog.assign_project=!1,this.$router.go(this.$router.currentRoute))}if("edit_project"===e.action){const t=await T.A.projects.update(e.project_id,{course_code:e.course_code,semester:e.semester,year:e.year,presentation_at:e.presentation_at});t&&t.data&&(console.log(t.data),this.dialog.edit_project=!1,this.$router.go(this.$router.currentRoute))}}},async created(){await this.getUsers(),await this.getTeams(),await this.getTopics(),await this.getProjects()},computed:{...(0,C.aH)(L.kH,["user"]),...(0,C.aH)(L.sk,["teams"]),...(0,C.aH)(L.sk,["projects"]),...(0,C.aH)(L.sk,["getDocument"]),projectCount(){return this.projects?this.projects.length:0},resultQuery(){return this.searchQuery?this.projects.filter((e=>this.searchQuery.toLowerCase().split(" ").every((t=>!!(e.topic_name.toLowerCase().includes(t)||e.topic_description.toLowerCase().includes(t)||e.supervisor_full_name.toLowerCase().includes(t)))))):this.projects},unassignedTeams(){return this.teams.filter((e=>!(!this.selectedProject||this.selectedProject.supervisor_id!==e.supervisor_id)||!e.supervisor_id))},years(){return R.dE}}},D=l(1241);const E=(0,D.A)(q,[["render",P],["__scopeId","data-v-73131e9e"]]);var I=E},8351:function(e,t,l){l.d(t,{f:function(){return h}});var o=l(6768),a=l(8995),i=l(1622),r=l(4577),u=l(5035),n=l(6935),s=l(1950),d=l(5296),c=l(2067),p=l(144),m=l(4587),v=l(9094),f=l(1247),b=l(4600);const _=(0,m.j)({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(Number(e))},...(0,u.V)({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>(0,v.BN)(e).every((e=>null!=e&&"object"===typeof e))},...(0,r.tG)({clearable:!0})},"VFileInput"),h=(0,f.RW)()({name:"VFileInput",inheritAttrs:!1,props:_(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:l,emit:m,slots:f}=t;const{t:_}=(0,d.Ym)(),h=(0,c.q)(e,"modelValue",e.modelValue,(e=>(0,v.BN)(e)),(t=>!e.multiple&&Array.isArray(t)?t[0]:t)),{isFocused:g,focus:k,blur:F}=(0,n.i)(e),x=(0,o.EW)((()=>"boolean"!==typeof e.showSize?e.showSize:void 0)),j=(0,o.EW)((()=>(h.value??[]).reduce(((e,t)=>{let{size:l=0}=t;return e+l}),0))),y=(0,o.EW)((()=>(0,v.hA)(j.value,x.value))),V=(0,o.EW)((()=>(h.value??[]).map((t=>{const{name:l="",size:o=0}=t;return e.showSize?`${l} (${(0,v.hA)(o,x.value)})`:l})))),w=(0,o.EW)((()=>{const t=h.value?.length??0;return e.showSize?_(e.counterSizeString,t,y.value):_(e.counterString,t)})),P=(0,p.KR)(),C=(0,p.KR)(),S=(0,p.KR)(),B=(0,o.EW)((()=>g.value||e.active)),A=(0,o.EW)((()=>["plain","underlined"].includes(e.variant)));function L(){S.value!==document.activeElement&&S.value?.focus(),g.value||k()}function R(e){S.value?.click()}function T(e){m("mousedown:control",e)}function q(e){S.value?.click(),m("click:control",e)}function D(t){t.stopPropagation(),L(),(0,o.dY)((()=>{h.value=[],(0,v.P)(e["onClick:clear"],t)}))}return(0,o.wB)(h,(e=>{const t=!Array.isArray(e)||!e.length;t&&S.value&&(S.value.value="")})),(0,b.C)((()=>{const t=!(!f.counter&&!e.counter),n=!(!t&&!f.details),[s,d]=(0,v.ph)(l),{modelValue:c,...p}=u.Z.filterProps(e),m=(0,r.jz)(e);return(0,o.bF)(u.Z,(0,o.v6)({ref:P,modelValue:h.value,"onUpdate:modelValue":e=>h.value=e,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":A.value},e.class],style:e.style,"onClick:prepend":R},s,p,{centerAffix:!A.value,focused:g.value}),{...f,default:t=>{let{id:l,isDisabled:i,isDirty:u,isReadonly:n,isValid:s}=t;return(0,o.bF)(r.xR,(0,o.v6)({ref:C,"prepend-icon":e.prependIcon,onMousedown:T,onClick:q,"onClick:clear":D,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},m,{id:l.value,active:B.value||u.value,dirty:u.value||e.dirty,disabled:i.value,focused:g.value,error:!1===s.value}),{...f,default:t=>{let{props:{class:l,...r}}=t;return(0,o.bF)(o.FK,null,[(0,o.bF)("input",(0,o.v6)({ref:S,type:"file",readonly:n.value,disabled:i.value,multiple:e.multiple,name:e.name,onClick:e=>{e.stopPropagation(),n.value&&e.preventDefault(),L()},onChange:e=>{if(!e.target)return;const t=e.target;h.value=[...t.files??[]]},onFocus:L,onBlur:F},r,d),null),(0,o.bF)("div",{class:l},[!!h.value?.length&&!e.hideInput&&(f.selection?f.selection({fileNames:V.value,totalBytes:j.value,totalBytesReadable:y.value}):e.chips?V.value.map((e=>(0,o.bF)(a.x,{key:e,size:"small",text:e},null))):V.value.join(", "))])])}})},details:n?l=>(0,o.bF)(o.FK,null,[f.details?.(l),t&&(0,o.bF)(o.FK,null,[(0,o.bF)("span",null,null),(0,o.bF)(i.p,{active:!!h.value?.length,value:w.value,disabled:e.disabled},f.counter)])]):void 0})})),(0,s.O)({},P,C,S)}})},1720:function(e,t,l){l.d(t,{h:function(){return a}});l(5792);var o=l(2586);const a=(0,o.G)("v-spacer","div","VSpacer")},3740:function(e,t,l){l.d(t,{J:function(){return h}});var o=l(6768),a=l(5130),i=(l(2936),l(1622)),r=l(4577),u=l(5035),n=l(6935),s=l(1950),d=l(2067),c=l(9629),p=l(144),m=l(4587),v=l(1247),f=l(9094),b=l(4600);const _=(0,m.j)({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...(0,u.V)(),...(0,r.tG)()},"VTextarea"),h=(0,v.RW)()({name:"VTextarea",directives:{Intersect:c.A},inheritAttrs:!1,props:_(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:l,emit:c,slots:m}=t;const v=(0,d.q)(e,"modelValue"),{isFocused:_,focus:h,blur:g}=(0,n.i)(e),k=(0,o.EW)((()=>"function"===typeof e.counterValue?e.counterValue(v.value):(v.value||"").toString().length)),F=(0,o.EW)((()=>l.maxlength?l.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function x(t,l){e.autofocus&&t&&l[0].target?.focus?.()}const j=(0,p.KR)(),y=(0,p.KR)(),V=(0,p.IJ)(""),w=(0,p.KR)(),P=(0,o.EW)((()=>e.persistentPlaceholder||_.value||e.active));function C(){w.value!==document.activeElement&&w.value?.focus(),_.value||h()}function S(e){C(),c("click:control",e)}function B(e){c("mousedown:control",e)}function A(t){t.stopPropagation(),C(),(0,o.dY)((()=>{v.value="",(0,f.P)(e["onClick:clear"],t)}))}function L(t){const l=t.target;if(v.value=l.value,e.modelModifiers?.trim){const e=[l.selectionStart,l.selectionEnd];(0,o.dY)((()=>{l.selectionStart=e[0],l.selectionEnd=e[1]}))}}const R=(0,p.KR)(),T=(0,p.KR)(+e.rows),q=(0,o.EW)((()=>["plain","underlined"].includes(e.variant)));function D(){e.autoGrow&&(0,o.dY)((()=>{if(!R.value||!y.value)return;const t=getComputedStyle(R.value),l=getComputedStyle(y.value.$el),o=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),a=R.value.scrollHeight,i=parseFloat(t.lineHeight),r=Math.max(parseFloat(e.rows)*i+o,parseFloat(l.getPropertyValue("--v-input-control-height"))),u=parseFloat(e.maxRows)*i+o||1/0,n=(0,f.qE)(a??0,r,u);T.value=Math.floor((n-o)/i),V.value=(0,f.Dg)(n)}))}let E;return(0,o.nT)((()=>{e.autoGrow||(T.value=+e.rows)})),(0,o.sV)(D),(0,o.wB)(v,D),(0,o.wB)((()=>e.rows),D),(0,o.wB)((()=>e.maxRows),D),(0,o.wB)((()=>e.density),D),(0,o.wB)(R,(e=>{e?(E=new ResizeObserver(D),E.observe(R.value)):E?.disconnect()})),(0,o.xo)((()=>{E?.disconnect()})),(0,b.C)((()=>{const t=!!(m.counter||e.counter||e.counterValue),n=!(!t&&!m.details),[s,d]=(0,f.ph)(l),{modelValue:c,...p}=u.Z.filterProps(e),b=(0,r.jz)(e);return(0,o.bF)(u.Z,(0,o.v6)({ref:j,modelValue:v.value,"onUpdate:modelValue":e=>v.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":q.value},e.class],style:e.style},s,p,{centerAffix:1===T.value&&!q.value,focused:_.value}),{...m,default:t=>{let{id:l,isDisabled:i,isDirty:u,isReadonly:n,isValid:s}=t;return(0,o.bF)(r.xR,(0,o.v6)({ref:y,style:{"--v-textarea-control-height":V.value},onClick:S,onMousedown:B,"onClick:clear":A,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},b,{id:l.value,active:P.value||u.value,centerAffix:1===T.value&&!q.value,dirty:u.value||e.dirty,disabled:i.value,focused:_.value,error:!1===s.value}),{...m,default:t=>{let{props:{class:l,...r}}=t;return(0,o.bF)(o.FK,null,[e.prefix&&(0,o.bF)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,o.bo)((0,o.bF)("textarea",(0,o.v6)({ref:w,class:l,value:v.value,onInput:L,autofocus:e.autofocus,readonly:n.value,disabled:i.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:C,onBlur:g},r,d),null),[[(0,o.gN)("intersect"),{handler:x},null,{once:!0}]]),e.autoGrow&&(0,o.bo)((0,o.bF)("textarea",{class:[l,"v-textarea__sizer"],id:`${r.id}-sizer`,"onUpdate:modelValue":e=>v.value=e,ref:R,readonly:!0,"aria-hidden":"true"},null),[[a.Jo,v.value]]),e.suffix&&(0,o.bF)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:n?l=>(0,o.bF)(o.FK,null,[m.details?.(l),t&&(0,o.bF)(o.FK,null,[(0,o.bF)("span",null,null),(0,o.bF)(i.p,{active:e.persistentCounter||_.value,value:k.value,max:F.value,disabled:e.disabled},m.counter)])]):void 0})})),(0,s.O)({},j,y,w)}})}}]);
//# sourceMappingURL=851.0fd76bfc.js.map