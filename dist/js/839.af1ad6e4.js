"use strict";(self["webpackChunkstar_client"]=self["webpackChunkstar_client"]||[]).push([[839],{6866:function(e,t,l){l.d(t,{A:function(){return k}});var a=l(6768),i=l(4232),s=l(2807),r=l(4189),n=l(697),o=l(3745),u=l(1772);const d={class:"pa-4 text-center"},c={class:"text-h6 font-weight-black"},m={class:"text-medium-emphasis"};function p(e,t,l,p,h,v){return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(u.p,{"model-value":l.view,"max-width":"600",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(r.J,{"prepend-icon":l.header.icon,title:l.header.title},{default:(0,a.k6)((()=>[(0,a.bF)(n.O,null,{default:(0,a.k6)((()=>[(0,a.Lk)("p",c,(0,i.v_)(l.body.name),1),(0,a.Lk)("div",m,(0,i.v_)(l.body.text),1)])),_:1}),(0,a.bF)(o.S,null,{default:(0,a.k6)((()=>[l.body.url?((0,a.uX)(),(0,a.Wv)(s.D,{key:0,color:"orange",text:"Preview",href:l.body.url,target:"_blank"},null,8,["href"])):(0,a.Q3)("",!0),(0,a.bF)(s.D,{onClick:t[0]||(t[0]=e=>v.close(!l.view)),text:"Ok"})])),_:1})])),_:1},8,["prepend-icon","title"])])),_:1},8,["model-value"])])}var h={name:"PreviewDialog",props:{view:{type:Boolean,required:!0},header:{type:Object,required:!0},body:{type:Object,required:!0}},methods:{close(e){this.$emit("close",e)}}},v=l(1241);const f=(0,v.A)(h,[["render",p]]);var k=f},6839:function(e,t,l){l.r(t),l.d(t,{default:function(){return C}});var a=l(6768),i=l(4232),s=l(3416),r=l(4189),n=l(8995),o=l(3813),u=l(6756),d=l(5526),c=l(1286),m=l(3260),p=l(3948);const h={class:"d-flex justify-end"},v={class:"mx-4"},f={class:"pl-4 d-flex align-center justify-space-between"},k={class:"text-body-2"};function g(e,t,l,g,b,_){const y=(0,a.g2)("IconButton"),w=(0,a.g2)("PreviewDialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(o.I,{fluid:""},{default:(0,a.k6)((()=>[(0,a.bF)(u.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(d.B,{cols:"4"},{default:(0,a.k6)((()=>[(0,a.bF)(c.d4,{"prepend-inner-icon":"mdi-filter-outline",density:"compact",modelValue:b.filterQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>b.filterQuery=e),items:_.filters,label:"Filter By","max-width":"200"},null,8,["modelValue","items"])])),_:1}),(0,a.bF)(d.B,{cols:"4"},{default:(0,a.k6)((()=>[(0,a.bF)(p.W,{"append-inner-icon":"mdi-magnify",density:"compact",label:"Search",variant:"underlined","hide-details":"","single-line":"",modelValue:b.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=e=>b.searchQuery=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(d.B,{cols:"4"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",h,[(0,a.Lk)("h4",v,(0,i.v_)(_.teamsCount)+" Teams(s)",1)])])),_:1})])),_:1}),(0,a.bF)(u.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(d.B,{cols:"12"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(_.resultQuery,((l,o)=>((0,a.uX)(),(0,a.Wv)(r.J,{key:o,title:l.name,subtitle:l.description,"prepend-avatar":e.getImage(l.image),elevation:"4",class:"pa-4 mb-6"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",f,[(0,a.Lk)("div",null,[(0,a.Lk)("p",k,[t[3]||(t[3]=(0,a.eW)("Supervised by ")),(0,a.Lk)("strong",null,(0,i.v_)(_.getTeamSupervisor(l)),1)])]),(0,a.Lk)("div",null,[(0,a.bF)(y,{tooltipText:"View Evaluation",color:"blue-grey",icon:"mdi-eye-outline",onAction:e=>_.goToPage(l)},null,8,["onAction"]),(0,a.bF)(y,{tooltipText:"View Topic",color:"blue-grey",icon:"mdi-file-eye-outline",onAction:e=>_.select(l,"view_topic")},null,8,["onAction"])])]),_.hasMembers(l)?((0,a.uX)(),(0,a.Wv)(m.Z,{key:0,"min-height":"500px","fixed-header":""},{default:(0,a.k6)((()=>[t[6]||(t[6]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"text-left text-uppercase"}),(0,a.Lk)("th",{class:"text-left text-uppercase"},"Full Name"),(0,a.Lk)("th",{class:"text-left text-uppercase"},"Student Number"),(0,a.Lk)("th",{class:"text-left text-uppercase"},"Department"),(0,a.Lk)("th",{class:"text-left text-uppercase"},"Position")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.members,((l,r)=>((0,a.uX)(),(0,a.CE)("tr",{key:r},[(0,a.Lk)("td",null,[(0,a.bF)(s.y,{image:e.getImage(l.image)},null,8,["image"])]),(0,a.Lk)("td",null,(0,i.v_)(l.full_name),1),(0,a.Lk)("td",null,(0,i.v_)(l.student_number),1),(0,a.Lk)("td",null,(0,i.v_)(l.department),1),(0,a.Lk)("td",null,[l.is_lead?((0,a.uX)(),(0,a.Wv)(n.x,{key:0,"prepend-icon":"mdi-star",class:"ma-2",color:"orange",size:"x-small"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)(" Lead ")]))),_:1})):(0,a.Q3)("",!0),l.is_lead?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(n.x,{key:1,class:"ma-2",color:"teal",size:"x-small"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)(" Member ")]))),_:1}))])])))),128))])])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1032,["title","subtitle","prepend-avatar"])))),128))])),_:1})])),_:1})])),_:1}),(0,a.bF)(w,{view:b.dialog.view_topic,header:{icon:"mdi-information",title:"Topic Information"},body:{name:e.project.topic_name,text:e.project.topic_description,url:e.getDocument(e.project.topic_url)},onClose:t[2]||(t[2]=e=>b.dialog.view_topic=!1)},null,8,["view","body"])],64)}l(4114);var b=l(5234),_=l(7103),y=l(6866),w=l(376),x=l(3283),L={name:"Evaluations",data(){return{dialog:{view_topic:!1},searchQuery:null,filterQuery:x.SC[0]}},components:{IconButton:_.A,PreviewDialog:y.A},methods:{...(0,b.i0)(w.sk,["getUsers"]),...(0,b.i0)(w.sk,["getTeams"]),...(0,b.i0)(w.sk,["getEvaluations"]),...(0,b.i0)(w.sk,["getProjects"]),...(0,b.i0)(w.sk,["getProjectByTeam"]),async select(e,t){"view_topic"===t&&(await this.getProjectByTeam(e.id),this.dialog.view_topic=!0)},goToPage(e){this.$router.push({name:"team_evaluation_management",params:{team_id:e.id}})},hasMembers(e){return e.members&&e.members.length>0&&e.members[0]},getTeamSupervisor(e){return e.supervisor_full_name?e.supervisor_title+" "+e.supervisor_full_name:"No supervisor assigned yet"},hasEvaluation(e){if(this.evaluations&&this.evaluations.length)for(const t of this.evaluations)if(e.id===t.team_id&&t.evaluations)return!0;return!1}},async created(){await this.getUsers(),await this.getProjects(),await this.getTeams(),await this.getEvaluations()},computed:{...(0,b.aH)(w.kH,["user"]),...(0,b.aH)(w.sk,["teams"]),...(0,b.aH)(w.sk,["project"]),...(0,b.aH)(w.sk,["getStudents"]),...(0,b.aH)(w.sk,["getSupervisors"]),...(0,b.aH)(w.sk,["getImage"]),...(0,b.aH)(w.sk,["getDocument"]),...(0,b.aH)(w.sk,["evaluations"]),teamsCount(){return this.teams?this.teams.length:0},resultQuery(){return this.searchQuery?this.teams.filter((e=>this.searchQuery.toLowerCase().split(" ").every((t=>!!e.name.toLowerCase().includes(t)||!!e.supervisor_full_name.toLowerCase().includes(t))))):this.filterQuery?this.filterQuery===this.filters[0]?this.teams:this.teams.filter((e=>!(this.filterQuery!==this.filters[1]||!this.hasEvaluation(e))||this.filterQuery===this.filters[2]&&!this.hasEvaluation(e))):this.teams},filters(){return x.SC}}},F=l(1241);const Q=(0,F.A)(L,[["render",g],["__scopeId","data-v-f15420c0"]]);var C=Q}}]);
//# sourceMappingURL=839.af1ad6e4.js.map